<div class="fullscreen-container" *ngIf="handReplay">
  <!-- Header com controles -->
  <div class="fullscreen-header">
    <div class="table-info">
      <h2>{{ handReplay.table_name }}</h2>
      <div class="blinds-info">
        <span class="blind">SB: {{ handReplay.blinds.small }}</span>
        <span class="blind">BB: {{ handReplay.blinds.big }}</span>
        <span class="ante" *ngIf="handReplay.blinds.ante > 0">Ante: {{ handReplay.blinds.ante }}</span>
      </div>
    </div>
    
    <div class="hand-info">
      <span class="hand-id">M√£o #{{ handReplay.hand_id }}</span>
      <span class="tournament">Torneio #{{ handReplay.tournament_id }}</span>
    </div>
    
    <button class="close-btn" (click)="closeFullscreen()" title="Fechar">
      ‚úï
    </button>
  </div>

  <!-- Mesa Principal -->
  <div class="poker-table-fullscreen">
    <!-- Feltro da Mesa -->
    <div class="table-felt">
      
      <!-- Cartas Comunit√°rias -->
      <div class="community-cards">
        <div class="board-label">{{ currentStreet.toUpperCase() }}</div>
        <div class="cards-container">
          <div 
            class="community-card" 
            *ngFor="let card of currentBoardCards; let i = index"
            [innerHTML]="formatCards(card)"
          ></div>
        </div>
      </div>

      <!-- Pot -->
      <div class="pot-container">
        <div class="pot-label">POT</div>
        <div class="pot-amount">{{ formatStack(currentPot) }}</div>
      </div>

    </div>

    <!-- Jogadores -->
    <div 
      class="player-seat" 
      *ngFor="let player of currentPlayers"
      [style.left.%]="getPlayerPosition(player.position).x"
      [style.top.%]="getPlayerPosition(player.position).y"
      [ngClass]="getPlayerClass(player)"
    >
      
      <!-- Avatar do Jogador -->
      <div class="player-avatar">
        <div class="player-name">{{ player.name }}</div>
        <div class="player-stack">{{ formatStack(player.stack) }}</div>
      </div>

      <!-- Cartas do Jogador -->
      <div class="player-cards-container" *ngIf="shouldShowCards(player)">
        <div class="player-cards">
          <span class="cards-text" [innerHTML]="formatCards(player.cards || '')"></span>
        </div>
      </div>

      <!-- Aposta Atual -->
      <div class="player-bet" *ngIf="player.current_bet && player.current_bet > 0">
        {{ formatStack(player.current_bet) }}
      </div>

      <!-- Indicador de Posi√ß√£o -->
      <div class="position-indicator" *ngIf="player.is_button">BTN</div>
      <div class="position-indicator sb" *ngIf="player.is_small_blind">SB</div>
      <div class="position-indicator bb" *ngIf="player.is_big_blind">BB</div>
    </div>
  </div>

  <!-- Controles de Navega√ß√£o -->
  <div class="navigation-controls">
    <div class="control-group">
      <button class="nav-btn" (click)="restart()" title="Reiniciar">
        üîÑ
      </button>
      <button class="nav-btn" (click)="previousStreet()" title="Street Anterior">
        ‚è™
      </button>
      <button class="nav-btn" (click)="previousAction()" title="A√ß√£o Anterior">
        ‚èÆÔ∏è
      </button>
    </div>
    
    <div class="progress-info">
      <span class="street-info">{{ currentStreet.toUpperCase() }}</span>
      <span class="action-info">A√ß√£o {{ currentActionIndex + 1 }}</span>
    </div>
    
    <div class="control-group">
      <button class="nav-btn" (click)="nextAction()" title="Pr√≥xima A√ß√£o">
        ‚è≠Ô∏è
      </button>
      <button class="nav-btn" (click)="nextStreet()" title="Pr√≥xima Street">
        ‚è©
      </button>
    </div>
  </div>
</div>

<!-- Mensagem se n√£o h√° dados -->
<div class="no-data" *ngIf="!handReplay">
  <h2>Erro ao carregar dados da mesa</h2>
  <p>N√£o foi poss√≠vel carregar os dados da m√£o.</p>
  <button (click)="closeFullscreen()">Fechar</button>
</div>

